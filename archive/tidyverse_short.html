<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Brandon LeBeau">
  <meta name="dcterms.date" content="2018-09-19">
  <title>Introduction to tidyverse/R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
  <style type="text/css">
  @import url(https://fonts.googleapis.com/css?family=News+Cycle:400,700);
  @import url(https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic);
  	.reveal h1 { font-size: 2em; }
  	.reveal h2 {font-size: 1.25em;}
  	.reveal h3 {font-size: 1em;}
  	body {
    background-image: url(figures/ui_logo.jpg);
    position: absolute;
    background-repeat: no-repeat;
    background-position: 20px 950px;
    background-size: 250px;
  }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section>
  <h1 class="title">Introduction to tidyverse/R</h1>
  <h2 class="author">Brandon LeBeau</h2>
  <h3 class="date">May 29, 2019</h3>
</section>

<section id="about-me" class="slide level1">
<h1>About Me</h1>
<ul>
<li>I’m an Assistant Professor in the College of Education
<ul>
<li>I enjoy model building, particularly longitudinal models, and statistical programming.</li>
</ul></li>
<li>I’ve used R for over 10 years.
<ul>
<li>I have 4 R packages, 3 on CRAN, 1 on GitHub
<ul>
<li>simglm</li>
<li>pdfsearch</li>
<li>highlightHTML</li>
<li>SPSStoR</li>
</ul></li>
</ul></li>
<li>GitHub Repository for this workshop: <a href="https://github.com/lebebr01/iowa_data_science" class="uri">https://github.com/lebebr01/iowa_data_science</a></li>
</ul>
</section>
<section id="why-teach-the-tidyverse" class="slide level1">
<h1>Why teach the tidyverse</h1>
<ul>
<li>The tidyverse is a series of packages developed by Hadley Wickham and his team at RStudio. <a href="https://www.tidyverse.org/" class="uri">https://www.tidyverse.org/</a></li>
<li>I teach/use the tidyverse for 3 major reasons:
<ul>
<li>Simple functions that do one thing well</li>
<li>Consistent implementations across functions within tidyverse (i.e. common APIs)</li>
<li>Provides a framework for data manipulation</li>
</ul></li>
</ul>
</section>
<section id="psqf-6250" class="slide level1">
<h1>PSQF 6250</h1>
<ul>
<li>Small plug for my online course</li>
<li><a href="https://myui.uiowa.edu/my-ui/courses/details.page?_ticket=X-wrjriCUraqNq7N5T9reX3rnNZc97wT&amp;id=848077&amp;ci=148839" class="uri">https://myui.uiowa.edu/my-ui/courses/details.page?_ticket=X-wrjriCUraqNq7N5T9reX3rnNZc97wT&amp;id=848077&amp;ci=148839</a></li>
</ul>
</section>
<section id="course-setup" class="slide level1">
<h1>Course Setup</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a></code></pre></div>
</section>
<section id="explore-data" class="slide level1">
<h1>Explore Data</h1>
<figure>
<img data-src="figure/data-1.png" alt="plot of chunk data" /><figcaption>plot of chunk data</figcaption>
</figure>
</section>
<section id="first-ggplot" class="slide level1">
<h1>First ggplot</h1>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege))</a></code></pre></div>
<figure>
<img data-src="figure/plot1-1.png" alt="plot of chunk plot1" /><figcaption>plot of chunk plot1</figcaption>
</figure>
</section>
<section id="equivalent-code" class="slide level1">
<h1>Equivalent Code</h1>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege))</a></code></pre></div>
<figure>
<img data-src="figure/plot1_reduced-1.png" alt="plot of chunk plot1_reduced" /><figcaption>plot of chunk plot1_reduced</figcaption>
</figure>
</section>
<section id="your-turn" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Try plotting <code>popdensity</code> by <code>state</code>.</li>
<li>Try plotting <code>county</code> by <code>state</code>.
<ul>
<li>Does this plot work?</li>
</ul></li>
<li>Bonus: Try just using the <code>ggplot(data = midwest)</code> from above.
<ul>
<li>What do you get?</li>
<li>Does this make sense?</li>
</ul></li>
</ol>
</section>
<section id="add-aesthetics" class="slide level1">
<h1>Add Aesthetics</h1>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">color =</span> state))</a></code></pre></div>
<figure>
<img data-src="figure/aesthetic-1.png" alt="plot of chunk aesthetic" /><figcaption>plot of chunk aesthetic</figcaption>
</figure>
</section>
<section id="global-aesthetics" class="slide level1">
<h1>Global Aesthetics</h1>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege), <span class="dt">color =</span> <span class="st">&#39;pink&#39;</span>)</a></code></pre></div>
<figure>
<img data-src="figure/global_aes-1.png" alt="plot of chunk global_aes" /><figcaption>plot of chunk global_aes</figcaption>
</figure>
</section>
<section id="your-turn-1" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Instead of using colors, make the shape of the points different for each state.</li>
<li>Instead of color, use <code>alpha</code> instead.
<ul>
<li>What does this do to the plot?</li>
</ul></li>
<li>Try the following command: <code>colors()</code>.
<ul>
<li>Try a few colors to find your favorite.</li>
</ul></li>
<li>What happens if you use the following code:</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">color =</span> <span class="st">&#39;green&#39;</span>))</a></code></pre></div>
</section>
<section id="additional-geoms" class="slide level1">
<h1>Additional Geoms</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege))</a></code></pre></div>
<figure>
<img data-src="figure/smooth-1.png" alt="plot of chunk smooth" /><figcaption>plot of chunk smooth</figcaption>
</figure>
</section>
<section id="add-more-aesthetics" class="slide level1">
<h1>Add more Aesthetics</h1>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">linetype =</span> state), </a>
<a class="sourceLine" id="cb9-3" data-line-number="3">              <span class="dt">se =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<figure>
<img data-src="figure/smooth_states-1.png" alt="plot of chunk smooth_states" /><figcaption>plot of chunk smooth_states</figcaption>
</figure>
</section>
<section id="your-turn-2" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>It is possible to combine geoms, which we will do next, but try it first. Try to recreate this plot. <img data-src="figure/combine-1.png" alt="plot of chunk combine" /></li>
</ol>
</section>
<section id="layered-ggplot" class="slide level1">
<h1>Layered ggplot</h1>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="kw">ggplot</span>(midwest) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">color =</span> state)) <span class="op">+</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">color =</span> state), </a>
<a class="sourceLine" id="cb10-4" data-line-number="4">              <span class="dt">se =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<figure>
<img data-src="figure/combine_geoms-1.png" alt="plot of chunk combine_geoms" /><figcaption>plot of chunk combine_geoms</figcaption>
</figure>
</section>
<section id="remove-duplicate-aesthetics" class="slide level1">
<h1>Remove duplicate aesthetics</h1>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">ggplot</span>(midwest, </a>
<a class="sourceLine" id="cb11-2" data-line-number="2">       <span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">color =</span> state)) <span class="op">+</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">se =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<figure>
<img data-src="figure/two_geoms-1.png" alt="plot of chunk two_geoms" /><figcaption>plot of chunk two_geoms</figcaption>
</figure>
</section>
<section id="your-turn-3" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Can you recreate the following figure? <img data-src="figure/differ_aes-1.png" alt="plot of chunk differ_aes" /></li>
</ol>
</section>
<section id="brief-plot-customization" class="slide level1">
<h1>Brief plot customization</h1>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw">ggplot</span>(midwest, </a>
<a class="sourceLine" id="cb12-2" data-line-number="2">       <span class="kw">aes</span>(<span class="dt">x =</span> popdensity, <span class="dt">y =</span> percollege, <span class="dt">color =</span> state)) <span class="op">+</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="st">&quot;Population Density&quot;</span>, </a>
<a class="sourceLine" id="cb12-5" data-line-number="5">                     <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">80000</span>, <span class="dv">20000</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="st">&quot;Percent College Graduates&quot;</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_color_discrete</span>(<span class="st">&quot;State&quot;</span>)</a></code></pre></div>
</section>
<section id="brief-plot-customization-output" class="slide level1">
<h1>Brief plot customization Output</h1>
<figure>
<img data-src="figure/breaks_x2-1.png" alt="plot of chunk breaks_x2" /><figcaption>plot of chunk breaks_x2</figcaption>
</figure>
</section>
<section id="additional-ggplot2-resources" class="slide level1">
<h1>Additional ggplot2 resources</h1>
<ul>
<li>ggplot2 website: <a href="http://docs.ggplot2.org/current/index.html" class="uri">http://docs.ggplot2.org/current/index.html</a></li>
<li>ggplot2 book: <a href="http://www.springer.com/us/book/9780387981413" class="uri">http://www.springer.com/us/book/9780387981413</a></li>
<li>R graphics cookbook: <a href="http://www.cookbook-r.com/Graphs/" class="uri">http://www.cookbook-r.com/Graphs/</a></li>
</ul>
</section>
<section id="r-works-as-a-calculator" class="slide level1">
<h1>R works as a calculator</h1>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="dv">5</span> <span class="op">*</span><span class="st"> </span><span class="dv">7</span></a></code></pre></div>
<pre><code>## [1] 35</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="dv">2</span><span class="op">/</span><span class="dv">1</span></a></code></pre></div>
<pre><code>## [1] 2</code></pre>
</section>
<section id="r-calculator-2" class="slide level1">
<h1>R Calculator 2</h1>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">sqrt</span>(<span class="dv">4</span>)</a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="dv">2</span><span class="op">^</span><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 4</code></pre>
</section>
<section id="can-save-objects-to-use-later" class="slide level1">
<h1>Can save objects to use later</h1>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">x</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1">x <span class="op">*</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] 12</code></pre>
</section>
<section id="r-is-case-sensitive" class="slide level1">
<h1>R is case sensitive</h1>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1">case_sensitive &lt;-<span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2">Case_sensitive</a></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;Case_sensitive&#39; not found</code></pre>
</section>
<section id="r-functions" class="slide level1">
<h1>R Functions</h1>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="kw">rnorm</span>(<span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">mean =</span> <span class="dv">0</span>, <span class="dt">sd =</span> <span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] -0.6264538  0.1836433 -0.8356286  1.5952808  0.3295078</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="kw">rnorm</span>(<span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">1</span>)</a></code></pre></div>
<pre><code>## [1] -0.6264538  0.1836433 -0.8356286  1.5952808  0.3295078</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="kw">rnorm</span>(<span class="dt">sd =</span> <span class="dv">1</span>, <span class="dt">n =</span> <span class="dv">5</span>, <span class="dt">mean =</span> <span class="dv">0</span>)</a></code></pre></div>
<pre><code>## [1] -0.6264538  0.1836433 -0.8356286  1.5952808  0.3295078</code></pre>
</section>
<section id="working-through-errors" class="slide level1">
<h1>Working through Errors</h1>
<ol type="1">
<li>Use <code>?function_name</code> to explore the details of the function. The examples at the bottom of every R help page can be especially helpful.
</li>
<li>If this does not help, copy and paste the error and search on the internet.</li>
</ol>
</section>
<section id="using-dplyr-for-data-manipulation" class="slide level1">
<h1>Using <code>dplyr</code> for data manipulation</h1>
<p>The <code>dplyr</code> package uses verbs for common data manipulation tasks. These include:</p>
<ul>
<li><code>filter()</code></li>
<li><code>count()</code></li>
<li><code>arrange()</code></li>
<li><code>select()</code></li>
<li><code>mutate()</code></li>
<li><code>summarise()</code></li>
</ul>
</section>
<section id="data" class="slide level1">
<h1>Data</h1>
<p><a href="https://fivethirtyeight.com/features/both-republicans-and-democrats-have-an-age-problem/" class="uri">https://fivethirtyeight.com/features/both-republicans-and-democrats-have-an-age-problem/</a></p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;fivethirtyeight&#39;</span>)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">library</span>(fivethirtyeight)</a></code></pre></div>
<figure>
<img data-src="figure/congress-1.png" alt="plot of chunk congress" /><figcaption>plot of chunk congress</figcaption>
</figure>
</section>
<section id="using-filter" class="slide level1">
<h1>Using <code>filter</code></h1>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">==</span><span class="st"> </span><span class="dv">80</span>)</a></code></pre></div>
<pre><code>## # A tibble: 555 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   M000112  Joseph    Jefferson  Mansfie~ &lt;NA&gt;  
##  2       80 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  3       80 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  4       80 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  5       80 house   L000296  William   &lt;NA&gt;       Lewis    &lt;NA&gt;  
##  6       80 house   G000017  James     A.         Gallagh~ &lt;NA&gt;  
##  7       80 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  8       80 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  9       80 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
## 10       80 house   G000169  Charles   Laceille   Gifford  &lt;NA&gt;  
## # ... with 545 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="save-filtered-results-to-object" class="slide level1">
<h1>Save filtered results to object</h1>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1">congress_<span class="dv">80</span> &lt;-<span class="st"> </span><span class="kw">filter</span>(congress_age, congress <span class="op">==</span><span class="st"> </span><span class="dv">80</span>)</a></code></pre></div>
</section>
<section id="other-operators-for-numbers" class="slide level1">
<h1>Other operators for numbers</h1>
<ul>
<li><code>&gt;</code></li>
<li><code>&lt;</code></li>
<li><code>&gt;=</code></li>
<li><code>&lt;=</code></li>
</ul>
</section>
<section id="your-turn-4" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Select all rows where the congress member was older than 80 at the start of the term.</li>
<li>Use the <code>is.na</code> function to identify congress members that have missing middlenames.</li>
</ol>
</section>
<section id="filter-character-variables" class="slide level1">
<h1>Filter character variables</h1>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">senate &lt;-<span class="st"> </span><span class="kw">filter</span>(congress_age, chamber <span class="op">==</span><span class="st"> &#39;senate&#39;</span>)</a></code></pre></div>
</section>
<section id="combine-operations---and" class="slide level1">
<h1>Combine Operations - AND</h1>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">==</span><span class="st"> </span><span class="dv">80</span>, chamber <span class="op">==</span><span class="st"> &#39;senate&#39;</span>)</a></code></pre></div>
<pre><code>## # A tibble: 102 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 senate  C000133  Arthur    &lt;NA&gt;       Capper   &lt;NA&gt;  
##  2       80 senate  G000418  Theodore  Francis    Green    &lt;NA&gt;  
##  3       80 senate  M000499  Kenneth   Douglas    McKellar &lt;NA&gt;  
##  4       80 senate  R000112  Clyde     Martin     Reed     &lt;NA&gt;  
##  5       80 senate  M000895  Edward    Hall       Moore    &lt;NA&gt;  
##  6       80 senate  O000146  John      Holmes     Overton  &lt;NA&gt;  
##  7       80 senate  M001108  James     Edward     Murray   &lt;NA&gt;  
##  8       80 senate  M000308  Patrick   Anthony    McCarran &lt;NA&gt;  
##  9       80 senate  T000165  Elmer     &lt;NA&gt;       Thomas   &lt;NA&gt;  
## 10       80 senate  W000021  Robert    Ferdinand  Wagner   &lt;NA&gt;  
## # ... with 92 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="equivalent-and-statement" class="slide level1">
<h1>Equivalent AND Statement</h1>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">==</span><span class="st"> </span><span class="dv">80</span> <span class="op">&amp;</span><span class="st"> </span>chamber <span class="op">==</span><span class="st"> &#39;senate&#39;</span>)</a></code></pre></div>
<pre><code>## # A tibble: 102 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 senate  C000133  Arthur    &lt;NA&gt;       Capper   &lt;NA&gt;  
##  2       80 senate  G000418  Theodore  Francis    Green    &lt;NA&gt;  
##  3       80 senate  M000499  Kenneth   Douglas    McKellar &lt;NA&gt;  
##  4       80 senate  R000112  Clyde     Martin     Reed     &lt;NA&gt;  
##  5       80 senate  M000895  Edward    Hall       Moore    &lt;NA&gt;  
##  6       80 senate  O000146  John      Holmes     Overton  &lt;NA&gt;  
##  7       80 senate  M001108  James     Edward     Murray   &lt;NA&gt;  
##  8       80 senate  M000308  Patrick   Anthony    McCarran &lt;NA&gt;  
##  9       80 senate  T000165  Elmer     &lt;NA&gt;       Thomas   &lt;NA&gt;  
## 10       80 senate  W000021  Robert    Ferdinand  Wagner   &lt;NA&gt;  
## # ... with 92 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="filter---or" class="slide level1">
<h1>Filter - OR</h1>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">==</span><span class="st"> </span><span class="dv">80</span> <span class="op">|</span><span class="st"> </span>congress <span class="op">==</span><span class="st"> </span><span class="dv">81</span>)</a></code></pre></div>
<pre><code>## # A tibble: 1,112 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   M000112  Joseph    Jefferson  Mansfie~ &lt;NA&gt;  
##  2       80 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  3       80 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  4       80 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  5       80 house   L000296  William   &lt;NA&gt;       Lewis    &lt;NA&gt;  
##  6       80 house   G000017  James     A.         Gallagh~ &lt;NA&gt;  
##  7       80 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  8       80 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  9       80 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
## 10       80 house   G000169  Charles   Laceille   Gifford  &lt;NA&gt;  
## # ... with 1,102 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="in" class="slide level1">
<h1><code>%in%</code></h1>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">80</span>, <span class="dv">81</span>))</a></code></pre></div>
<pre><code>## # A tibble: 1,112 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   M000112  Joseph    Jefferson  Mansfie~ &lt;NA&gt;  
##  2       80 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  3       80 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  4       80 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  5       80 house   L000296  William   &lt;NA&gt;       Lewis    &lt;NA&gt;  
##  6       80 house   G000017  James     A.         Gallagh~ &lt;NA&gt;  
##  7       80 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  8       80 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  9       80 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
## 10       80 house   G000169  Charles   Laceille   Gifford  &lt;NA&gt;  
## # ... with 1,102 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="not-operator" class="slide level1">
<h1>Not Operator</h1>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">!=</span><span class="st"> </span><span class="dv">80</span>)</a></code></pre></div>
<pre><code>## # A tibble: 18,080 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       81 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  2       81 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  3       81 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  4       81 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  5       81 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  6       81 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
##  7       81 house   B000545  Schuyler  Otis       Bland    &lt;NA&gt;  
##  8       81 house   K000138  John      Hosea      Kerr     &lt;NA&gt;  
##  9       81 house   C000932  Robert    &lt;NA&gt;       Crosser  &lt;NA&gt;  
## 10       81 house   K000039  John      &lt;NA&gt;       Kee      &lt;NA&gt;  
## # ... with 18,070 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="not-operator-2" class="slide level1">
<h1>Not Operator 2</h1>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="kw">filter</span>(congress_age, congress <span class="op">==</span><span class="st"> </span><span class="dv">80</span> <span class="op">&amp;</span><span class="st"> </span><span class="op">!</span>chamber <span class="op">==</span><span class="st"> &#39;senate&#39;</span>)</a></code></pre></div>
<pre><code>## # A tibble: 453 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   M000112  Joseph    Jefferson  Mansfie~ &lt;NA&gt;  
##  2       80 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  3       80 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  4       80 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  5       80 house   L000296  William   &lt;NA&gt;       Lewis    &lt;NA&gt;  
##  6       80 house   G000017  James     A.         Gallagh~ &lt;NA&gt;  
##  7       80 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  8       80 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  9       80 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
## 10       80 house   G000169  Charles   Laceille   Gifford  &lt;NA&gt;  
## # ... with 443 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="working-with-logicals" class="slide level1">
<h1>Working with logicals</h1>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="kw">filter</span>(congress_age, incumbent)</a></code></pre></div>
<pre><code>## # A tibble: 15,698 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   M000112  Joseph    Jefferson  Mansfie~ &lt;NA&gt;  
##  2       80 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  3       80 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  4       80 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  5       80 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  6       80 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  7       80 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
##  8       80 house   G000169  Charles   Laceille   Gifford  &lt;NA&gt;  
##  9       80 house   B000545  Schuyler  Otis       Bland    &lt;NA&gt;  
## 10       80 house   R000358  John      Marshall   Robsion  &lt;NA&gt;  
## # ... with 15,688 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="your-turn-5" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Select the Senators from Iowa.</li>
<li>Select the Senators from Iowa that are not inbumbents.</li>
</ol>
</section>
<section id="all-boolean-options" class="slide level1">
<h1>All boolean options</h1>
<p><img data-src="figures/boolean.png" /></p>
</section>
<section id="using-count" class="slide level1">
<h1>Using <code>count</code></h1>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="kw">count</span>(congress_age, party, incumbent)</a></code></pre></div>
<pre><code>## # A tibble: 11 x 3
##    party incumbent     n
##    &lt;chr&gt; &lt;lgl&gt;     &lt;int&gt;
##  1 AL    FALSE         1
##  2 AL    TRUE          2
##  3 D     FALSE      1519
##  4 D     TRUE       8771
##  5 I     FALSE        13
##  6 I     TRUE         50
##  7 ID    FALSE         2
##  8 ID    TRUE          2
##  9 L     FALSE         1
## 10 R     FALSE      1401
## 11 R     TRUE       6873</code></pre>
</section>
<section id="using-arrange" class="slide level1">
<h1>Using <code>arrange</code></h1>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw">arrange</span>(congress_age, state, party)</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
##  2       81 house   B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
##  3       82 house   B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
##  4       83 house   B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
##  5       84 house   B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
##  6       85 house   B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
##  7       86 house   R000282  Ralph     Julian     Rivers   &lt;NA&gt;  
##  8       86 senate  G000508  Ernest    &lt;NA&gt;       Gruening &lt;NA&gt;  
##  9       86 senate  B000201  Edward    Lewis      Bartlett &lt;NA&gt;  
## 10       87 house   R000282  Ralph     Julian     Rivers   &lt;NA&gt;  
## # ... with 18,625 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="descending-order" class="slide level1">
<h1>Descending Order</h1>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="kw">arrange</span>(congress_age, <span class="kw">desc</span>(congress))</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 13
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1      113 house   H000067  Ralph     M.         Hall     &lt;NA&gt;  
##  2      113 house   D000355  John      D.         Dingell  &lt;NA&gt;  
##  3      113 house   C000714  John      &lt;NA&gt;       Conyers  Jr.   
##  4      113 house   S000480  Louise    McIntosh   Slaught~ &lt;NA&gt;  
##  5      113 house   R000053  Charles   B.         Rangel   &lt;NA&gt;  
##  6      113 house   J000174  Sam       Robert     Johnson  &lt;NA&gt;  
##  7      113 house   Y000031  C.        W. Bill    Young    &lt;NA&gt;  
##  8      113 house   C000556  Howard    &lt;NA&gt;       Coble    &lt;NA&gt;  
##  9      113 house   L000263  Sander    M.         Levin    &lt;NA&gt;  
## 10      113 house   Y000033  Don       E.         Young    &lt;NA&gt;  
## # ... with 18,625 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="your-turn-6" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Count the number of congress members from each party that are older than 80 at term start.</li>
<li>Arrange the result from above by the variable n.</li>
</ol>
</section>
<section id="using-select" class="slide level1">
<h1>Using <code>select</code></h1>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">select</span>(congress_age, congress, chamber, party, age)</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 4
##    congress chamber party   age
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;dbl&gt;
##  1       80 house   D      85.9
##  2       80 house   D      83.2
##  3       80 house   D      80.7
##  4       80 house   R      78.8
##  5       80 house   R      78.3
##  6       80 house   R      78  
##  7       80 house   R      77.9
##  8       80 house   D      76.8
##  9       80 house   R      76  
## 10       80 house   R      75.8
## # ... with 18,625 more rows</code></pre>
</section>
<section id="helper-functions" class="slide level1">
<h1>Helper functions</h1>
<ul>
<li><code>starts_with()</code></li>
<li><code>ends_with()</code></li>
<li><code>contains()</code></li>
<li><code>matches()</code></li>
<li><code>num_range()</code></li>
<li><code>:</code></li>
<li><code>everything()</code></li>
</ul>
</section>
<section id="starts_with-helper" class="slide level1">
<h1><code>starts_with</code> helper</h1>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="kw">select</span>(congress_age, <span class="kw">starts_with</span>(<span class="st">&#39;s&#39;</span>))</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 2
##    suffix state
##    &lt;chr&gt;  &lt;chr&gt;
##  1 &lt;NA&gt;   TX   
##  2 &lt;NA&gt;   NC   
##  3 &lt;NA&gt;   IL   
##  4 &lt;NA&gt;   NJ   
##  5 &lt;NA&gt;   KY   
##  6 &lt;NA&gt;   PA   
##  7 &lt;NA&gt;   CA   
##  8 &lt;NA&gt;   NY   
##  9 &lt;NA&gt;   WI   
## 10 &lt;NA&gt;   MA   
## # ... with 18,625 more rows</code></pre>
</section>
<section id="contains-helper" class="slide level1">
<h1>Contains helper</h1>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="kw">select</span>(congress_age, <span class="kw">contains</span>(<span class="st">&#39;name&#39;</span>))</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 3
##    firstname middlename lastname 
##    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    
##  1 Joseph    Jefferson  Mansfield
##  2 Robert    Lee        Doughton 
##  3 Adolph    Joachim    Sabath   
##  4 Charles   Aubrey     Eaton    
##  5 William   &lt;NA&gt;       Lewis    
##  6 James     A.         Gallagher
##  7 Richard   Joseph     Welch    
##  8 Sol       &lt;NA&gt;       Bloom    
##  9 Merlin    &lt;NA&gt;       Hull     
## 10 Charles   Laceille   Gifford  
## # ... with 18,625 more rows</code></pre>
</section>
<section id="colon" class="slide level1">
<h1>Colon</h1>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">select</span>(congress_age, congress<span class="op">:</span>birthday)</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 8
##    congress chamber bioguide firstname middlename lastname suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt; 
##  1       80 house   M000112  Joseph    Jefferson  Mansfie~ &lt;NA&gt;  
##  2       80 house   D000448  Robert    Lee        Doughton &lt;NA&gt;  
##  3       80 house   S000001  Adolph    Joachim    Sabath   &lt;NA&gt;  
##  4       80 house   E000023  Charles   Aubrey     Eaton    &lt;NA&gt;  
##  5       80 house   L000296  William   &lt;NA&gt;       Lewis    &lt;NA&gt;  
##  6       80 house   G000017  James     A.         Gallagh~ &lt;NA&gt;  
##  7       80 house   W000265  Richard   Joseph     Welch    &lt;NA&gt;  
##  8       80 house   B000565  Sol       &lt;NA&gt;       Bloom    &lt;NA&gt;  
##  9       80 house   H000943  Merlin    &lt;NA&gt;       Hull     &lt;NA&gt;  
## 10       80 house   G000169  Charles   Laceille   Gifford  &lt;NA&gt;  
## # ... with 18,625 more rows, and 1 more variable: birthday &lt;date&gt;</code></pre>
</section>
<section id="drop-variables" class="slide level1">
<h1>Drop variables</h1>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="kw">select</span>(congress_age, <span class="op">-</span>firstname, <span class="op">-</span>state, <span class="op">-</span>party, <span class="op">-</span>incumbent, <span class="op">-</span>chamber)</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 8
##    congress bioguide middlename lastna~ suffix birthday   termstart    age
##       &lt;int&gt; &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;  &lt;date&gt;     &lt;date&gt;     &lt;dbl&gt;
##  1       80 M000112  Jefferson  Mansfi~ &lt;NA&gt;   1861-02-09 1947-01-03  85.9
##  2       80 D000448  Lee        Dought~ &lt;NA&gt;   1863-11-07 1947-01-03  83.2
##  3       80 S000001  Joachim    Sabath  &lt;NA&gt;   1866-04-04 1947-01-03  80.7
##  4       80 E000023  Aubrey     Eaton   &lt;NA&gt;   1868-03-29 1947-01-03  78.8
##  5       80 L000296  &lt;NA&gt;       Lewis   &lt;NA&gt;   1868-09-22 1947-01-03  78.3
##  6       80 G000017  A.         Gallag~ &lt;NA&gt;   1869-01-16 1947-01-03  78  
##  7       80 W000265  Joseph     Welch   &lt;NA&gt;   1869-02-13 1947-01-03  77.9
##  8       80 B000565  &lt;NA&gt;       Bloom   &lt;NA&gt;   1870-03-09 1947-01-03  76.8
##  9       80 H000943  &lt;NA&gt;       Hull    &lt;NA&gt;   1870-12-18 1947-01-03  76  
## 10       80 G000169  Laceille   Gifford &lt;NA&gt;   1871-03-15 1947-01-03  75.8
## # ... with 18,625 more rows</code></pre>
</section>
<section id="reorder-with-everything" class="slide level1">
<h1>Reorder with <code>everything</code></h1>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">select</span>(congress_age, congress, chamber, incumbent, age, <span class="kw">everything</span>())</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 13
##    congress chamber incumbent   age bioguide firstname middlename lastname
##       &lt;int&gt; &lt;chr&gt;   &lt;lgl&gt;     &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;chr&gt;   
##  1       80 house   TRUE       85.9 M000112  Joseph    Jefferson  Mansfie~
##  2       80 house   TRUE       83.2 D000448  Robert    Lee        Doughton
##  3       80 house   TRUE       80.7 S000001  Adolph    Joachim    Sabath  
##  4       80 house   TRUE       78.8 E000023  Charles   Aubrey     Eaton   
##  5       80 house   FALSE      78.3 L000296  William   &lt;NA&gt;       Lewis   
##  6       80 house   FALSE      78   G000017  James     A.         Gallagh~
##  7       80 house   TRUE       77.9 W000265  Richard   Joseph     Welch   
##  8       80 house   TRUE       76.8 B000565  Sol       &lt;NA&gt;       Bloom   
##  9       80 house   TRUE       76   H000943  Merlin    &lt;NA&gt;       Hull    
## 10       80 house   TRUE       75.8 G000169  Charles   Laceille   Gifford 
## # ... with 18,625 more rows, and 5 more variables: suffix &lt;chr&gt;,
## #   birthday &lt;date&gt;, state &lt;chr&gt;, party &lt;chr&gt;, termstart &lt;date&gt;</code></pre>
</section>
<section id="rename-function" class="slide level1">
<h1><code>rename</code> function</h1>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">rename</span>(congress_age, <span class="dt">first_name =</span> firstname, <span class="dt">last_name =</span> lastname)</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 13
##    congress chamber bioguide first_name middlename last_name suffix
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;    &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt; 
##  1       80 house   M000112  Joseph     Jefferson  Mansfield &lt;NA&gt;  
##  2       80 house   D000448  Robert     Lee        Doughton  &lt;NA&gt;  
##  3       80 house   S000001  Adolph     Joachim    Sabath    &lt;NA&gt;  
##  4       80 house   E000023  Charles    Aubrey     Eaton     &lt;NA&gt;  
##  5       80 house   L000296  William    &lt;NA&gt;       Lewis     &lt;NA&gt;  
##  6       80 house   G000017  James      A.         Gallagher &lt;NA&gt;  
##  7       80 house   W000265  Richard    Joseph     Welch     &lt;NA&gt;  
##  8       80 house   B000565  Sol        &lt;NA&gt;       Bloom     &lt;NA&gt;  
##  9       80 house   H000943  Merlin     &lt;NA&gt;       Hull      &lt;NA&gt;  
## 10       80 house   G000169  Charles    Laceille   Gifford   &lt;NA&gt;  
## # ... with 18,625 more rows, and 6 more variables: birthday &lt;date&gt;,
## #   state &lt;chr&gt;, party &lt;chr&gt;, incumbent &lt;lgl&gt;, termstart &lt;date&gt;, age &lt;dbl&gt;</code></pre>
</section>
<section id="your-turn-7" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Using the <code>dplyr</code> helper functions, select all the variables that start with the letter ‘c’.</li>
<li>Rename the first three variables in the congress data to ‘x1’, ‘x2’, ‘x3’.</li>
<li>After renaming the first three variables, use this new data (ensure you saved the previous step to an object) to select these three variables with the <code>num_range</code> function.</li>
</ol>
</section>
<section id="using-mutate" class="slide level1">
<h1>Using <code>mutate</code></h1>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">congress_red &lt;-<span class="st"> </span><span class="kw">select</span>(congress_age, congress, chamber, state, party)</a>
<a class="sourceLine" id="cb74-2" data-line-number="2"></a>
<a class="sourceLine" id="cb74-3" data-line-number="3"><span class="kw">mutate</span>(congress_red, </a>
<a class="sourceLine" id="cb74-4" data-line-number="4">       <span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb74-5" data-line-number="5">       <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat)</a>
<a class="sourceLine" id="cb74-6" data-line-number="6">       )</a></code></pre></div>
<pre><code>## # A tibble: 18,635 x 6
##    congress chamber state party democrat num_democrat
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;        &lt;dbl&gt;
##  1       80 house   TX    D            1        10290
##  2       80 house   NC    D            1        10290
##  3       80 house   IL    D            1        10290
##  4       80 house   NJ    R            0        10290
##  5       80 house   KY    R            0        10290
##  6       80 house   PA    R            0        10290
##  7       80 house   CA    R            0        10290
##  8       80 house   NY    D            1        10290
##  9       80 house   WI    R            0        10290
## 10       80 house   MA    R            0        10290
## # ... with 18,625 more rows</code></pre>
</section>
<section id="your-turn-8" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Using the <code>diamonds</code> data, use <code>?diamonds</code> for more information on the data, use the <code>mutate</code> function to calculate the price per carat. Hint, this operation would involve standardizing the price variable so that all are comparable at 1 carat.</li>
<li>Using <code>mutate</code>, calculate the rank of the original price variable and the new price variable calculated above using the <code>min_rank</code> function. Are there differences in the ranking of the prices?</li>
</ol>
</section>
<section id="using-summarise" class="slide level1">
<h1>Using <code>summarise</code></h1>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" data-line-number="1">congress_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw">mutate</span>(congress_age, </a>
<a class="sourceLine" id="cb76-2" data-line-number="2">       <span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb76-3" data-line-number="3">       )</a>
<a class="sourceLine" id="cb76-4" data-line-number="4"></a>
<a class="sourceLine" id="cb76-5" data-line-number="5"><span class="kw">summarise</span>(congress_<span class="dv">2</span>, </a>
<a class="sourceLine" id="cb76-6" data-line-number="6">          <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat)</a>
<a class="sourceLine" id="cb76-7" data-line-number="7">          )</a></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   num_democrat
##          &lt;dbl&gt;
## 1        10290</code></pre>
</section>
<section id="group_by" class="slide level1">
<h1><code>group_by</code></h1>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" data-line-number="1">congress_grp &lt;-<span class="st"> </span><span class="kw">group_by</span>(congress_<span class="dv">2</span>, congress)</a>
<a class="sourceLine" id="cb78-2" data-line-number="2"></a>
<a class="sourceLine" id="cb78-3" data-line-number="3"><span class="kw">summarise</span>(congress_grp, </a>
<a class="sourceLine" id="cb78-4" data-line-number="4">          <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb78-5" data-line-number="5">          <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb78-6" data-line-number="6">          <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb78-7" data-line-number="7">)</a></code></pre></div>
<pre><code>## # A tibble: 34 x 4
##    congress num_democrat total prop_democrat
##       &lt;int&gt;        &lt;dbl&gt; &lt;int&gt;         &lt;dbl&gt;
##  1       80          247   555         0.445
##  2       81          330   557         0.592
##  3       82          292   555         0.526
##  4       83          274   557         0.492
##  5       84          288   544         0.529
##  6       85          295   547         0.539
##  7       86          356   554         0.643
##  8       87          339   559         0.606
##  9       88          332   552         0.601
## 10       89          371   548         0.677
## # ... with 24 more rows</code></pre>
</section>
<section id="explore-trend" class="slide level1">
<h1>Explore trend</h1>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" data-line-number="1">num_dem &lt;-<span class="st"> </span><span class="kw">summarise</span>(congress_grp, </a>
<a class="sourceLine" id="cb80-2" data-line-number="2">                     <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb80-3" data-line-number="3">                     <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb80-4" data-line-number="4">                     <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb80-5" data-line-number="5">)</a>
<a class="sourceLine" id="cb80-6" data-line-number="6"><span class="kw">ggplot</span>(num_dem, <span class="kw">aes</span>(<span class="dt">x =</span> congress, <span class="dt">y =</span> prop_democrat)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb80-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_line</span>()</a></code></pre></div>
</section>
<section id="explore-trend-output" class="slide level1">
<h1>Explore trend output</h1>
<figure>
<img data-src="figure/trend2-1.png" alt="plot of chunk trend2" /><figcaption>plot of chunk trend2</figcaption>
</figure>
</section>
<section id="your-turn-9" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Suppose we wanted to calculate the number and proportion of republicans instead of democrats, assuming these are the only two parties, edit the <code>summarise</code> command above to calculate these values.</li>
<li>Suppose instead of using <code>sum(democrat)</code> above, we used <code>mean(democrat)</code>, what does this value return? Why does it return this value?</li>
</ol>
</section>
<section id="group_by-with-mutate" class="slide level1">
<h1><code>group_by</code> with <code>mutate</code></h1>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1">congress_red &lt;-<span class="st"> </span><span class="kw">select</span>(congress_age, congress, chamber, state, party)</a>
<a class="sourceLine" id="cb81-2" data-line-number="2">congress_grp &lt;-<span class="st"> </span><span class="kw">group_by</span>(congress_red, congress)</a>
<a class="sourceLine" id="cb81-3" data-line-number="3"></a>
<a class="sourceLine" id="cb81-4" data-line-number="4"><span class="kw">mutate</span>(congress_grp, </a>
<a class="sourceLine" id="cb81-5" data-line-number="5">       <span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb81-6" data-line-number="6">       <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb81-7" data-line-number="7">       <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb81-8" data-line-number="8">       <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb81-9" data-line-number="9">)</a></code></pre></div>
</section>
<section id="group_by-with-mutate-output" class="slide level1">
<h1><code>group_by</code> with <code>mutate</code> output</h1>
<pre><code>## # A tibble: 18,635 x 8
## # Groups:   congress [34]
##    congress chamber state party democrat num_democrat total prop_democrat
##       &lt;int&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;        &lt;dbl&gt; &lt;int&gt;         &lt;dbl&gt;
##  1       80 house   TX    D            1          247   555         0.445
##  2       80 house   NC    D            1          247   555         0.445
##  3       80 house   IL    D            1          247   555         0.445
##  4       80 house   NJ    R            0          247   555         0.445
##  5       80 house   KY    R            0          247   555         0.445
##  6       80 house   PA    R            0          247   555         0.445
##  7       80 house   CA    R            0          247   555         0.445
##  8       80 house   NY    D            1          247   555         0.445
##  9       80 house   WI    R            0          247   555         0.445
## 10       80 house   MA    R            0          247   555         0.445
## # ... with 18,625 more rows</code></pre>
</section>
<section id="chaining-operations" class="slide level1">
<h1>Chaining operations</h1>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb83-1" data-line-number="1"><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb83-2" data-line-number="2">  <span class="kw">group_by</span>(</a>
<a class="sourceLine" id="cb83-3" data-line-number="3">    <span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb83-4" data-line-number="4">      <span class="kw">filter</span>(</a>
<a class="sourceLine" id="cb83-5" data-line-number="5">        congress_age, congress <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb83-6" data-line-number="6">      ), </a>
<a class="sourceLine" id="cb83-7" data-line-number="7">      <span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb83-8" data-line-number="8">    ),</a>
<a class="sourceLine" id="cb83-9" data-line-number="9">    congress, chamber</a>
<a class="sourceLine" id="cb83-10" data-line-number="10">  ),</a>
<a class="sourceLine" id="cb83-11" data-line-number="11">  <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb83-12" data-line-number="12">  <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb83-13" data-line-number="13">  <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb83-14" data-line-number="14">)</a></code></pre></div>
</section>
<section id="the-pipe-is-the-answer" class="slide level1">
<h1>The pipe <code>%&gt;%</code> is the answer</h1>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" data-line-number="1">congress_age <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(congress <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(congress, chamber) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb84-5" data-line-number="5"><span class="st">  </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb84-6" data-line-number="6">    <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb84-7" data-line-number="7">    <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb84-8" data-line-number="8">    <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb84-9" data-line-number="9">  )</a></code></pre></div>
</section>
<section id="the-two-are-identical" class="slide level1">
<h1>The two are identical</h1>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb85-1" data-line-number="1">pipe_congress &lt;-<span class="st"> </span>congress_age <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(congress <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(congress, chamber) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb85-5" data-line-number="5"><span class="st">  </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb85-6" data-line-number="6">    <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb85-7" data-line-number="7">    <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb85-8" data-line-number="8">    <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb85-9" data-line-number="9">  )</a>
<a class="sourceLine" id="cb85-10" data-line-number="10"></a>
<a class="sourceLine" id="cb85-11" data-line-number="11">nested_congress &lt;-<span class="st"> </span><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb85-12" data-line-number="12">  <span class="kw">group_by</span>(</a>
<a class="sourceLine" id="cb85-13" data-line-number="13">    <span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb85-14" data-line-number="14">      <span class="kw">filter</span>(</a>
<a class="sourceLine" id="cb85-15" data-line-number="15">        congress_age, congress <span class="op">&gt;=</span><span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb85-16" data-line-number="16">      ), </a>
<a class="sourceLine" id="cb85-17" data-line-number="17">      <span class="dt">democrat =</span> <span class="kw">ifelse</span>(party <span class="op">==</span><span class="st"> &#39;D&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb85-18" data-line-number="18">    ),</a>
<a class="sourceLine" id="cb85-19" data-line-number="19">    congress, chamber</a>
<a class="sourceLine" id="cb85-20" data-line-number="20">  ),</a>
<a class="sourceLine" id="cb85-21" data-line-number="21">  <span class="dt">num_democrat =</span> <span class="kw">sum</span>(democrat),</a>
<a class="sourceLine" id="cb85-22" data-line-number="22">  <span class="dt">total =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb85-23" data-line-number="23">  <span class="dt">prop_democrat =</span> num_democrat <span class="op">/</span><span class="st"> </span>total</a>
<a class="sourceLine" id="cb85-24" data-line-number="24">)</a>
<a class="sourceLine" id="cb85-25" data-line-number="25"></a>
<a class="sourceLine" id="cb85-26" data-line-number="26"><span class="kw">identical</span>(pipe_congress, nested_congress)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</section>
<section id="your-turn-10" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>Look at the following nested code and determine what is being done. Then translate this code to use the pipe operator.</li>
</ol>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb87-1" data-line-number="1"><span class="kw">summarise</span>(</a>
<a class="sourceLine" id="cb87-2" data-line-number="2">  <span class="kw">group_by</span>(</a>
<a class="sourceLine" id="cb87-3" data-line-number="3">    <span class="kw">mutate</span>(</a>
<a class="sourceLine" id="cb87-4" data-line-number="4">      <span class="kw">filter</span>(</a>
<a class="sourceLine" id="cb87-5" data-line-number="5">        diamonds, </a>
<a class="sourceLine" id="cb87-6" data-line-number="6">        color <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;D&#39;</span>, <span class="st">&#39;E&#39;</span>, <span class="st">&#39;F&#39;</span>) <span class="op">&amp;</span><span class="st"> </span>cut <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;Fair&#39;</span>, <span class="st">&#39;Good&#39;</span>, <span class="st">&#39;Very Good&#39;</span>)</a>
<a class="sourceLine" id="cb87-7" data-line-number="7">      ),</a>
<a class="sourceLine" id="cb87-8" data-line-number="8">      <span class="dt">f_color =</span> <span class="kw">ifelse</span>(color <span class="op">==</span><span class="st"> &#39;F&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>),</a>
<a class="sourceLine" id="cb87-9" data-line-number="9">      <span class="dt">vg_cut =</span> <span class="kw">ifelse</span>(cut <span class="op">==</span><span class="st"> &#39;Very Good&#39;</span>, <span class="dv">1</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb87-10" data-line-number="10">    ),</a>
<a class="sourceLine" id="cb87-11" data-line-number="11">    clarity</a>
<a class="sourceLine" id="cb87-12" data-line-number="12">  ),</a>
<a class="sourceLine" id="cb87-13" data-line-number="13">  <span class="dt">avg =</span> <span class="kw">mean</span>(carat),</a>
<a class="sourceLine" id="cb87-14" data-line-number="14">  <span class="dt">sd =</span> <span class="kw">sd</span>(carat),</a>
<a class="sourceLine" id="cb87-15" data-line-number="15">  <span class="dt">avg_p =</span> <span class="kw">mean</span>(price),</a>
<a class="sourceLine" id="cb87-16" data-line-number="16">  <span class="dt">num =</span> <span class="kw">n</span>(),</a>
<a class="sourceLine" id="cb87-17" data-line-number="17">  <span class="dt">summary_f_color =</span> <span class="kw">mean</span>(f_color),</a>
<a class="sourceLine" id="cb87-18" data-line-number="18">  <span class="dt">summary_vg_cut =</span> <span class="kw">mean</span>(vg_cut)</a>
<a class="sourceLine" id="cb87-19" data-line-number="19">)</a></code></pre></div>
</section>
<section id="read-in-your-own-data" class="slide level1">
<h1>Read in your own data</h1>
<ul>
<li>We will use data posted to GitHub: <a href="https://github.com/lebebr01/iowa_data_science/tree/master/data" class="uri">https://github.com/lebebr01/iowa_data_science/tree/master/data</a></li>
</ul>
</section>
<section id="data-import" class="slide level1">
<h1>Data Import</h1>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" data-line-number="1">ufo &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/lebebr01/iowa_data_science/master/data/ufo.csv&quot;</span>)</a></code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   `Date / Time` = col_character(),
##   City = col_character(),
##   State = col_character(),
##   Shape = col_character(),
##   Duration = col_character(),
##   Summary = col_character(),
##   Posted = col_character()
## )</code></pre>
</section>
<section id="show-data" class="slide level1">
<h1>Show Data</h1>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" data-line-number="1">ufo</a></code></pre></div>
<pre><code>## # A tibble: 8,031 x 7
##    `Date / Time`  City      State Shape Duration Summary            Posted
##    &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;              &lt;chr&gt; 
##  1 12/12/14 17:30 North Wa~ PA    Tria~ 5 minut~ I heard an extrem~ &lt;NA&gt;  
##  2 12/12/14 12:40 Cartersv~ GA    Unkn~ 3.6 min~ Looking up toward~ 12/12~
##  3 12/12/14 06:30 Isle of ~ &lt;NA&gt;  Light 2 secon~ Over the Isle of ~ 12/12~
##  4 12/12/14 01:00 Miamisbu~ OH    Chan~ &lt;NA&gt;     &quot;Bright color cha~ 12/12~
##  5 12/12/14 00:00 Spotsylv~ VA    Unkn~ 1 minute &quot;White then orang~ 12/12~
##  6 12/11/14 23:25 Kenner    LA    Chev~ ~1 minu~ Strange, chevron-~ 12/12~
##  7 12/11/14 23:15 Eugene    OR    Disk  2 minut~ Dual orange orbs ~ 12/12~
##  8 12/11/14 20:04 Phoenix   AZ    Chev~ 3 minut~ 4 Orange Lights S~ 12/12~
##  9 12/11/14 20:00 Franklin  NC    Disk  5 minut~ There were 5 or 6~ 12/12~
## 10 12/11/14 18:30 Longview  WA    Cyli~ 10 seco~ Two cylinder shap~ 12/12~
## # ... with 8,021 more rows</code></pre>
</section>
<section id="other-text-formats" class="slide level1">
<h1>Other text formats</h1>
<ul>
<li>tsv - tab separated files - <code>read_tsv</code></li>
<li>fixed width files - <code>read_fwf</code></li>
<li>white space generally - <code>read_table</code></li>
<li>delimiter generally - <code>read_delim</code></li>
</ul>
</section>
<section id="your-turn-11" class="slide level1">
<h1>Your Turn</h1>
<ol type="1">
<li>There is a tsv file posted on icon called “lotr_clean.tsv”. Download this and read this data file into R.</li>
<li>Instead of specifying the path, use the function <code>file.choose()</code>. For example, <code>read_tsv(file.choose())</code>.
<ul>
<li>What does this function do?</li>
<li>Would you recommend this to be used in a reproducible document?</li>
</ul></li>
</ol>
</section>
<section id="excel-files" class="slide level1">
<h1>Excel Files</h1>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&#39;readxl&#39;</span>)</a></code></pre></div>
</section>
<section id="read_excel" class="slide level1">
<h1><code>read_excel</code></h1>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" data-line-number="1"><span class="kw">library</span>(readxl)</a>
<a class="sourceLine" id="cb93-2" data-line-number="2"><span class="kw">read_excel</span>(<span class="st">&#39;data/titanic.xlsx&#39;</span>)</a></code></pre></div>
<pre><code>## # A tibble: 891 x 12
##    PassengerId Survived Pclass Name  Sex     Age SibSp Parch Ticket  Fare
##          &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
##  1           1        0      3 Brau~ male     22     1     0 A/5 2~  7.25
##  2           2        1      1 Cumi~ fema~    38     1     0 PC 17~ 71.3 
##  3           3        1      3 Heik~ fema~    26     0     0 STON/~  7.92
##  4           4        1      1 Futr~ fema~    35     1     0 113803 53.1 
##  5           5        0      3 Alle~ male     35     0     0 373450  8.05
##  6           6        0      3 Mora~ male     NA     0     0 330877  8.46
##  7           7        0      1 McCa~ male     54     0     0 17463  51.9 
##  8           8        0      3 Pals~ male      2     3     1 349909 21.1 
##  9           9        1      3 John~ fema~    27     0     2 347742 11.1 
## 10          10        1      2 Nass~ fema~    14     1     0 237736 30.1 
## # ... with 881 more rows, and 2 more variables: Cabin &lt;chr&gt;,
## #   Embarked &lt;chr&gt;</code></pre>
</section>
<section id="additional-resources" class="slide level1">
<h1>Additional Resources</h1>
<ul>
<li>R for Data Science: <a href="http://r4ds.had.co.nz/" class="uri">http://r4ds.had.co.nz/</a></li>
</ul>
</section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: false,
        // Display the page number of the current slide
        slideNumber: true,
        // Transition style
        transition: 'fade', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
